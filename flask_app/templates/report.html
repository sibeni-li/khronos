{% extends "layout.html" %}

{% block title %}
    Report
{% endblock %}

{% block main %}
    <h1>Report {{ prgm_name }}</h1>
    <div class="cards">
        <div class="card-report">
            <h2>Functions count</h2>
            <p>{{ nb_functions }}</p>
        </div>
        <div class="card-report">
            <h2>Program time</h2>
            <p>{{ prgm_time }}</p>
        </div>
        <div class="card-report">
            <h2>Most call of a function</h2>
            <p>{{ most_call }}</p>
        </div>
    </div>
    <div id="container-charts" class="container-charts" data-functions="{{ functions_json }}">
        <div id="bar-chart"></div>
        <div id="pie-chart"></div>
    </div>
    <table class="table table-striped table-bordered">
        <thead>
            <tr>
                <th scope="col">Function Name</th>
                <th scope="col">Call count</th>
                <th scope="col">Execution time</th>
                <th scope="col">Average time per call</th>
            </tr>
        </thead>
        <tbody>
            {% for function in functions %}
                <tr>
                    <td>{{ function["name"] }}</td>
                    <td>{{ function["call_count"] }}</td>
                    <td>{{ function["exec_time"] }}</td>
                    <td>{{ function["avg_time"] }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
    <script src="{{ url_for('static', filename='charts.js') }}"></script>
{% endblock %}
